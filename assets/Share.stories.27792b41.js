var B=Object.defineProperty;var s=(r,c)=>B(r,"name",{value:c,configurable:!0});import{r as l,a as t,j as a,F as G}from"./jsx-runtime.454e308f.js";import{S as U,G as j,T as D,C as F,H as M,L as V}from"./index.77edaf10.js";import{P as C}from"./index.49b4d99f.js";import"./iframe.6e127bec.js";import"./index.3e192d0b.js";const q=[{id:1,name:"Wade Cooper",avatarUrl:"http://localhost:8080/static/media/src/images/avatar-1.svg",accessType:"no-access"},{id:2,name:"Arlene Mccoy",avatarUrl:"http://localhost:8080/static/media/src/images/avatar-2.svg",accessType:"no-access"}],H=[{id:3,name:"Product",avatarUrl:"",accessType:"no-access"},{id:4,name:"Engineering",avatarUrl:"",accessType:"no-access"}],T=[{id:"full-access",label:"Full access"},{id:"can-edit",label:"Can edit"},{id:"can-view",label:"Can view"},{id:"no-access",label:"No access"}];const K="/assets/avatar-1.8da82248.svg",Y="bg-gray-1000 text-white font-main font-normal py-2 px-4 text-sm rounded flex gap-2 items-center hover:bg-gray-700 mb-1",w=s(r=>t("h3",{className:"text-base font-main text-gray-700 mb-3",children:[" ",r," "]}),"SectionTitle"),W=t("div",{className:"flex px-3 py-3 bg-gray-50 rounded-b-lg",children:[t("button",{type:"button",className:"flex gap-2 text-gray-500 items-center",children:[M,a("span",{className:"text-sm",children:"learn about sharing"})]}),t("button",{type:"button",className:"flex ml-auto gap-2 text-gray-900 items-center",children:[V,a("span",{className:"text-sm",children:"Copy link"})]})]});function P(r){const{persons:c,groups:m}=r,[p,h]=l.exports.useState("share-button"),[d,g]=l.exports.useState([]),[i,f]=l.exports.useState(""),[x,b]=l.exports.useState(c),[y,S]=l.exports.useState(m),[u,_]=l.exports.useState("no-access");l.exports.useEffect(()=>{if(i){const e=c.filter(o=>o.name.toLowerCase().includes(i)),n=m.filter(o=>o.name.toLowerCase().includes(i));S(n),b(e)}else b(c),S(m)},[i]);const k=s(()=>{h("list")},"handleShareButtonClick"),I=s(()=>{h("person-selection")},"handleSearchClick"),A=s(()=>{console.log({selectedPersons:d}),console.log({selectedAccessType:u}),h("share-button")},"handleInviteClick"),L=s(e=>{const n=[...d,e];g(n),f("")},"addPerson"),v=s(e=>{L(e)},"handleSelectPerson"),O=s(e=>{const n=[...d].filter(o=>o.id!==e);g(n)},"removePerson"),E=s(e=>{const n=e.target.getAttribute("data-person-id");if(n){const o=Number(n);O(o)}},"handleRemovePerson"),R=s(e=>{f(e.target.value)},"handleOnSearchTextChange"),N=s(e=>{_(e.target.value)},"handleAccessTypeChange");return t("div",{className:"share-container",children:[p==="share-button"&&a(G,{children:t("button",{className:Y,type:"button",onClick:k,children:["Share",U]})}),p==="list"&&t("div",{className:"border border-gray-200 rounded-lg",children:[t("div",{className:"flex border-b border-gray-200",children:[t("div",{className:"flex pl-5 pr-3 py-4 items-center",children:[j,t("div",{className:"ml-4",children:[a("span",{className:"font-main text-base text-gray-900 font-normal",children:"Share to web"})," ",a("br",{}),a("span",{className:"font-main text-sm text-gray-500 font-normal",children:"Publish and share link with anyone"})]})]}),t("label",{className:"relative flex justify-between items-center p-2 text-xl ml-auto",children:[a("input",{type:"checkbox",className:"absolute left-1/2 -translate-x-1/2 w-full h-full peer appearance-none rounded-md"}),a("span",{className:"w-11 h-6 flex items-center flex-shrink-0 ml-4 p-1 bg-gray-300 rounded-full duration-300 ease-in-out peer-checked:bg-green-400 after:w-4 after:h-4 after:bg-white after:rounded-full after:shadow-md after:duration-300 peer-checked:after:translate-x-5"})]})]}),t("div",{className:"px-3 py-4 border-b border-gray-200",children:[t("div",{className:"flex mb-4",children:[a("input",{type:"text",className:"border border-gray-300 rounded-l px-2 py-1 font-main flex-1",placeholder:"People, emails, groups",onClick:I}),a("span",{className:"border border-gray-300 border-l-0 rounded-r px-4 py-2 font-main bg-gray-50 text-gray-700",children:"Invite"})]}),t("div",{className:"flex items-center",children:[a("div",{className:"flex",children:D}),t("div",{className:"ml-2",children:[a("span",{className:"font-main text-base text-gray-900 font-normal",children:"Everyone at OSlash"})," ",a("br",{}),a("span",{className:"font-main text-sm text-gray-500 font-normal",children:"25 workspace members"})]}),a("div",{className:"group relative ml-auto",children:a("select",{className:"p-2 text-xs text-gray-500",onChange:N,value:u,children:T.map(e=>a("option",{value:e.id,children:e.label},e.id))})})]})]}),W]}),p==="person-selection"&&t("div",{className:"border border-gray-200 rounded-lg",children:[t("div",{className:"flex px-3 py-3 bg-gray-50 rounded-t-lg items-center",children:[a("div",{onClick:E,children:d.map(e=>a(F,{text:e.name,id:e.id}))}),a("input",{type:"text",className:"flex-1 text-sm text-gray-500 font-main focus:bottom-0 p-1 bg-transparent focus:outline-0",placeholder:"Search emails, names or groups",value:i,onChange:R}),t("div",{className:"flex ml-auto",children:[a("select",{className:"p-2 text-xs text-gray-500 bg-transparent mr-3",onChange:N,value:u,children:T.map(e=>a("option",{value:e.id,children:e.label},e.id))}),a("button",{type:"button",className:"border border-gray-200 rounded-lg text-sm text-gray-700 px-3 py-2",onClick:A,children:"Invite"})]})]}),x.length>0&&t("div",{className:"pl-6 pr-4 py-4",children:[w("Select a person"),x.map(e=>a(C,{id:e.id,name:e.name,avatarUrl:K,accessType:e.accessType,handleSelectPerson:v},e.id))]}),y.length>0&&t("div",{className:"pl-6 pr-4 py-4",children:[w("Select a group"),y.map(e=>a(C,{id:e.id,name:e.name,accessType:e.accessType,handleSelectPerson:v},e.id))]})]})]})}s(P,"Share$1");try{Share.displayName="Share",Share.__docgenInfo={description:"",displayName:"Share",props:{persons:{defaultValue:null,description:"",name:"persons",required:!0,type:{name:"Person[]"}},groups:{defaultValue:null,description:"",name:"groups",required:!0,type:{name:"Person[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Share/index.tsx#Share"]={docgenInfo:Share.__docgenInfo,name:"Share",path:"src/components/Share/index.tsx#Share"})}catch{}const te={parameters:{storySource:{source:`import React from 'react';
import { ComponentStory, ComponentMeta } from '@storybook/react';
import { groups, persons } from './../components/Share/data';
import Share from './../components/Share';

export default {
  title: 'Share',
  component: Share,
} as ComponentMeta<typeof Share>;

const Template: ComponentStory<typeof Share> = (args) => <Share {...args} />;

export const Default = Template.bind({});
Default.args = {
  persons,
  groups,
};
`,locationsMap:{default:{startLoc:{col:47,line:11},endLoc:{col:76,line:11},startBody:{col:47,line:11},endBody:{col:76,line:11}}}}},title:"Share",component:P},$=s(r=>a(P,{...r}),"Template"),z=$.bind({});z.args={persons:q,groups:H};const se=["Default"];export{z as Default,se as __namedExportsOrder,te as default};
//# sourceMappingURL=Share.stories.27792b41.js.map
